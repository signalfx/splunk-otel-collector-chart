{
  "$schema": "http://json-schema.org/schema#",
  "type": "object",
  "required": [
    "clusterName",
    "provider",
    "distro"
  ],
  "title": "Values",
  "properties": {
    "clusterName": {
      "description": "Cluster name that will be used as metadata attributes for all telemetry data",
      "type": "string"
    },
    "provider": {
      "description": "Cloud provider where the collector is running",
      "type": "string",
      "enum": ["aws", "gcp", "azure", " ", ""]
    },
    "distro": {
      "description": "Kubernetes distribution where the collector is running",
      "type": "string",
      "enum": ["eks", "gke", "aks", "openshift", " ", ""]
    },
    "splunkPlatform": {
      "description": "Splunk Data-to-Everything Platform configuration",
      "type": "object",
      "properties": {
        "endpoint": {
          "type": "string"
        },
        "token": {
          "type": "string"
        },
        "logsEnabled": {
          "description": "Send Logs to Splunk Platform",
          "type": "boolean"
        },
        "metricsEnabled": {
          "description": "Send Metrics to Splunk Platform",
          "type": "boolean"
        }
      },
      "anyOf": [
        {
          "properties": {
            "logsEnabled": {
              "const": true
            }
          }
        },
        {
          "properties": {
            "metricsEnabled": {
              "const": true
            }
          }
        }
      ]
    },
    "splunkObservability": {
      "description": "Splunk Observability configuration",
      "type": "object",
      "properties": {
        "realm": {
          "type": "string"
        },
        "accessToken": {
          "type": "string"
        },
        "ingestUrl": {
          "type": "string"
        },
        "apiUrl": {
          "type": "string"
        },
        "metricsEnabled": {
          "description": "Send Metrics to Splunk Observability",
          "type": "boolean"
        },
        "tracesEnabled": {
          "description": "Send Traces to Splunk Observability",
          "type": "boolean"
        },
        "logsEnabled": {
          "description": "Send Logs to Splunk Observability",
          "type": "boolean"
        }
      },
      "anyOf": [
        {
          "properties": {
            "metricsEnabled": {
              "const": true
            }
          }
        },
        {
          "properties": {
            "tracesEnabled": {
              "const": true
            }
          }
        },
        {
          "properties": {
            "logsEnabled": {
              "const": true
            }
          }
        }
      ]
    }
  },
  "anyOf": [
    {
      "properties": {
        "splunkPlatform": {
          "type": "object",
          "properties": {
            "endpoint": {
              "description": "Splunk Platform Endpoint",
              "type": "string",
              "format": "uri"
            },
            "token": {
              "description": "Splunk Platform HEC Token",
              "type": "string",
              "minLength": 36,
              "maxLength": 36
            }
          },
          "required": [
            "endpoint",
            "token"
          ]
        }
      }
    },
    {
      "properties": {
        "splunkObservability": {
          "type": "object",
          "properties": {
            "realm": {
              "description": "Splunk Observability Realm",
              "type": "string",
              "minLength": 3
            },
            "accessToken": {
              "description": "Splunk Observability Access Token",
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "realm",
            "accessToken"
          ]
        }
      }
    },
    {
      "properties": {
        "splunkRealm": {
          "description": "[DEPRECATED] Splunk Observability Realm",
          "type": "string",
          "deprecated": true,
          "minLength": 3
        },
        "splunkAccessToken": {
          "description": "[DEPRECATED] Splunk Observability Access Token",
          "type": "string",
          "deprecated": true,
          "minLength": 1
        }
      },
      "required": [
        "splunkRealm",
        "splunkAccessToken"
      ]
    }
  ]
}
